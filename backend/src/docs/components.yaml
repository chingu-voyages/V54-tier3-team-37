components:
  securitySchemes:
    cookieAuth:
      type: apiKey
      in: cookie
      name: token

  schemas:
    PromptInput:
      type: object
      required:
        - role
        - context
        - task
        - output
        - constraints
        - language
      properties:
        role:
          type: string
          example: Developer
        context:
          type: string
          example: A new feature request
        task:
          type: string
          example: Write unit tests
        output:
          type: string
          example: Jest test cases
        constraints:
          type: string
          example: Use mocking
        language:
          type: string
          enum: [EN, ES, FR]
          example: EN

    Prompt:
      allOf:
        - $ref: '#/components/schemas/PromptInput'
        - type: object
          properties:
            id:
              type: string
              format: uuid
            userId:
              type: string
              format: uuid
            createdAt:
              type: string
              format: date-time
            score:
              type: integer
              example: 0
            isBookmarked:
              type: boolean
              example: false

    PromptOutput:
      type: object
      properties:
        id:
          type: string
          format: uuid
        userId:
          type: string
          format: uuid
        promptId:
          type: string
          format: uuid
        content:
          type: string
          example: Here is a list of useful repositories...
        metadata:
          type: object
          properties:
            language:
              type: string
              enum: [EN, ES, FR]
              example: EN
            model:
              type: string
              example: gemini-2.0-flash
            formattedPromptPreview:
              type: string
              example: "Role: Frontend Developer..."
        version:
          type: integer
          example: 1
        createdAt:
          type: string
          format: date-time

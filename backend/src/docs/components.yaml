components:
  securitySchemes:
    cookieAuth:
      type: apiKey
      in: cookie
      name: token

  schemas:
    PromptInput:
      type: object
      required:
        - role
        - context
        - task
        - output
        - constraints
        - language
      properties:
        role:
          type: string
          example: "Developer"
        context:
          type: string
          example: "Build a login feature"
        task:
          type: string
          example: "Write backend logic"
        output:
          type: string
          example: "Express route for authentication"
        constraints:
          type: string
          example: "No third-party auth packages"
        language:
          type: string
          enum: [EN, ES, FR]
          example: "EN"

    Prompt:
      allOf:
        - $ref: '#/components/schemas/PromptInput'
        - type: object
          properties:
            id:
              type: string
              format: uuid
            userId:
              type: string
              format: uuid
            createdAt:
              type: string
              format: date-time
            score:
              type: integer
              example: 3
            isBookmarked:
              type: boolean
              example: false
            geminiText:
              type: string
              example: "Generated response from Gemini"
            geminiSummary:
              type: string
              example: "Summarized version of the response"

    PromptOutput:
      type: object
      properties:
        id:
          type: string
          format: uuid
        userId:
          type: string
          format: uuid
        promptId:
          type: string
          format: uuid
        content:
          type: string
        metadata:
          type: object
          properties:
            language:
              type: string
              enum: [EN, ES, FR]
            model:
              type: string
            formattedPromptPreview:
              type: string
        version:
          type: integer
        createdAt:
          type: string
          format: date-time
